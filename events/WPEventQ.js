var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var WPEventQ=function(){function a(){_classCallCheck(this,a),this.entries=[],this.lastID=0}return _createClass(a,[{key:"add",value:function add(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0},d="object"===("undefined"==typeof c?"undefined":_typeof(c))?function(a){return b.isMatch(a,c)}:c;return this.entries[++this.lastID]={cb:a,matcher:d},this.lastID}},{key:"chain",value:function chain(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}},{key:"push",value:function push(){var a=this;[].slice.call(arguments).forEach(function(b){return a.process(b)})}},{key:"process",value:function process(a){this.entries.forEach(function(b){return b.matcher(a)&&b.cb(a)})}},{key:"run",value:function run(a){var b=this;a.forEach(function(a){return b.process(a)}),a.push=this.chain(a.push,this.push.bind(this))}},{key:"isMatch",value:function(a){function b(){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a,b,c){var d=Object.keys(b),e=d.length;if(null==a)return!e;for(var f,g=Object(a),h=0;h<e;h++)if(f=d[h],c&&"object"===_typeof(b[f])){if(!isMatch(g[f],b[f]))return!1;}else if(b[f]!==g[f]||!(f in g))return!1;return!0})}]),a}();